<!DOCTYPE html>
<html ng-app="testingAngularApp">

<head>
    <meta charset="UTF-8">
    <title>Unit Testing with AngularJS</title>
    <script src="bower_components/angular/angular.js"></script>
    <script src="js/app.js"></script>
</head>

<body ng-controller="testingAngularCtrl as ctrl">
    <header>
        <h2>{{ctrl.title}}</h2>
    </header>

    <section>
    	<form ng-submit="ctrl.addDestination()">
    		<p><label for="city">City</label>: <input name="city" id="city" type="text" ng-model="ctrl.newDestination.city"></p>
    		<p><label for="country">Country</label> <input name="country" id="country" type="text" ng-model="ctrl.newDestination.country"></p>
    		<p><input type="submit" value="Add"></p>
    	</form>
    </section>

    <section ng-show="ctrl.destinations.length > 0">
    	<h2>Your Trip</h2>
    	<!-- <h4 ng-show="ctrl.message">{{ctrl.message}}</h4> -->
    	<h4 ng-show="message">{{message}}</h4>
    	<ul> 
    		<li ng-repeat="dest in ctrl.destinations">
    			<div destination-directive destination="dest" api-key="{{ctrl.weatherAPIKey}}" on-remove="ctrl.removeDestination($index)"></div>
    			<!-- <span>{{dest.city}}, {{dest.country}}</span>
    			<span ng-if="dest.weather"> - {{dest.weather.main}}, {{dest.weather.temp}}</span>
    			<button ng-click="ctrl.removeDestination($index)">Remove</button>
    			<button ng-click="ctrl.getWeather(dest)">Update Weather</button>
    			{{ dest | json}} -->
    		</li>
    	</ul>
    </section>

    <section>
    	<h2>Warmest Destinations ( &gt; 20 C)</h2>
    	<div ng-repeat="dest in ctrl.destinations | warmestDestinations : 20">
    		<span>{{dest.city}}, {{dest.country}}</span>
    	</div>
    </section>
</body>

</html>
